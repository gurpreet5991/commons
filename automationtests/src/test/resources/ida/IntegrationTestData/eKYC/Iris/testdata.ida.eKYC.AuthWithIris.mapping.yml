testdata:      
  Valid_MockRequest_UsingLeftAndRightEye_SecLang_Y_Check_FullKyc:
    input.bio-auth-data:
      bioAuthReq.idvId: $UIN$
      bioAuthReq.tspID: 7404012867
      bioAuthReq.reqTime: $TIMESTAMP$
      bioAuthReq.txnID: $RANDOM:N:10$
    input.identity-encrypt-data:
      identityReq.valuerightEye: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~DECODEFILE:valuedocuments0~//BIR/BDBInfo[Type='Iris'][Subtype='Right']//following::BDB$
      identityReq.valueleftEye: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~DECODEFILE:valuedocuments0~//BIR/BDBInfo[Type='Iris'][Subtype='Left']//following::BDB$
      identityReq.tspID: $input.bio-auth-data:bioAuthReq.tspID$
    input.ekyc-request:
      ekycReq.ekycAuthType: I 
      ekycReq.secLangReq: BOOLEAN:true
    output.output-1-expected-y-res:
      output.1.response.y.status: Y
      output.1.response.y.resTime: $TIMESTAMP$
      output.1.response.y.response: '$DECODE$->output-2-expected-decoded-res.json'
      output.1.response.y.txnID: $input.bio-auth-data:bioAuthReq.txnID$
    output.output-2-expected-decoded-res:
      output.2.res.auth: '$DECODE$->output-3-expected-decoded-auth-res.json'
      output.2.res.kyc: '$DECODE$->output-4-expected-decoded-kyc-res.json'
    output.output-3-expected-decoded-auth-res:
      output.3.res.y.auth.status: Y
      #output.3.res.y.auth.usageData: '0x0000200000002000'
      output.3.res.y.auth.resTime: $IGNORE$
      output.3.res.y.auth.reqTime: $input.bio-auth-data:bioAuthReq.reqTime$
      output.3.res.y.auth.txnID: $input.bio-auth-data:bioAuthReq.txnID$
    output.output-4-expected-decoded-kyc-res:
      output.4.res.kyc.valuephone0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~phone$
      output.4.res.kyc.valueemail0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~email$
      output.4.res.kyc.valuegender1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuegender1$
      output.4.res.kyc.valuegender0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuegender0$
      #output.4.res.kyc.languagedateOfBirth0: ''
      output.4.res.kyc.valuepostalCode0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~postalCode$
      output.4.res.kyc.valueaddressLine11: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine11$
      output.4.res.kyc.valueaddressLine10: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine10$
      #output.4.res.kyc.languageemail0: ''
      output.4.res.kyc.valueregion1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueregion1$
      output.4.res.kyc.valueregion0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueregion0$
      output.4.res.kyc.valuecity1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuecity1$
      output.4.res.kyc.valuecity0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuecity0$
      output.4.res.kyc.languageprovince1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageprovince1$
      output.4.res.kyc.languageprovince0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageprovince0$
      output.4.res.kyc.languageaddressLine11: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine11$
      output.4.res.kyc.valuefullName1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuefullName1$
      output.4.res.kyc.languageaddressLine10: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine10$
      output.4.res.kyc.valuefullName0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuefullName0$
      output.4.res.kyc.languagegender1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagegender1$
      output.4.res.kyc.languagegender0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagegender0$
      output.4.res.kyc.valueaddressLine31: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine31$
      output.4.res.kyc.valuedateOfBirth0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~dateOfBirth$
      output.4.res.kyc.valueaddressLine30: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine30$
      output.4.res.kyc.languageregion1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageregion1$
      output.4.res.kyc.languageregion0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageregion0$
      #output.4.res.kyc.languagepostalCode0: ''
      output.4.res.kyc.valueprovince1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueprovince1$
      output.4.res.kyc.valueprovince0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueprovince0$
      output.4.res.kyc.languageaddressLine31: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine31$
      output.4.res.kyc.languageaddressLine30: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine30$
      output.4.res.kyc.idvId: $REGEXP:XXXX.*$
      output.4.res.kyc.languagecity1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagecity1$
      output.4.res.kyc.languagecity0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagecity0$
      output.4.res.kyc.valueaddressLine21: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine21$
      output.4.res.kyc.valueaddressLine20: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine20$
      output.4.res.kyc.languagefullName1: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagefullName1$
      output.4.res.kyc.languageaddressLine21: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine21$
      output.4.res.kyc.languagefullName0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagefullName0$
      output.4.res.kyc.languageaddressLine20: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine20$
    audit.auth_transaction:
      refId: $input.bio-auth-data:bioAuthReq.idvId$
      txnId: $input.bio-auth-data:bioAuthReq.txnID$
      authTypeCode: IRIS-AUTH
      statusCode: $output.output-1-expected-y-res:output.1.response.y.status$
      reqTime: $FETCH$
      resTime: $FETCH$
      statusComment: $REGEXP:.*Iris.*Authentication.*Success.*$
      idType: D
    audit.audit_log:
      refId:  $input.bio-auth-data:bioAuthReq.idvId$
      eventId: $REGEXP:.*IDA-EVT.*$
      eventName: AUTH_REQUEST_RESPONSE
      appId: IDA
      appName: ID-Authentication
      moduleName: EKYC_AUTH
      refIdType: UIN 
      
  Valid_MockRequest_UsingLeftAndRightEye_SecLang_N_Check_FullKyc:
    input.bio-auth-data:
      bioAuthReq.idvId: $UIN$
      bioAuthReq.tspID: 7404012867
      bioAuthReq.reqTime: $TIMESTAMP$
      bioAuthReq.txnID: $RANDOM:N:10$
    input.identity-encrypt-data:
      identityReq.valuerightEye: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~DECODEFILE:valuedocuments0~//BIR/BDBInfo[Type='Iris'][Subtype='Right']//following::BDB$
      identityReq.valueleftEye: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~DECODEFILE:valuedocuments0~//BIR/BDBInfo[Type='Iris'][Subtype='Left']//following::BDB$
      identityReq.tspID: $input.bio-auth-data:bioAuthReq.tspID$
    input.ekyc-request:
      ekycReq.ekycAuthType: I 
      ekycReq.secLangReq: BOOLEAN:false
    output.output-1-expected-y-res:
      output.1.response.y.status: Y
      output.1.response.y.resTime: $TIMESTAMP$
      output.1.response.y.response: '$DECODE$->output-2-expected-decoded-res.json'
      output.1.response.y.txnID: $input.bio-auth-data:bioAuthReq.txnID$
    output.output-2-expected-decoded-res:
      output.2.res.auth: '$DECODE$->output-3-expected-decoded-auth-res.json'
      output.2.res.kyc: '$DECODE$->output-4-expected-decoded-kyc-one-lang-res.json'
    output.output-3-expected-decoded-auth-res:
      output.3.res.y.auth.status: Y
      #output.3.res.y.auth.usageData: '0x0000200000002000'
      output.3.res.y.auth.resTime: $IGNORE$
      output.3.res.y.auth.reqTime: $input.bio-auth-data:bioAuthReq.reqTime$
      output.3.res.y.auth.txnID: $input.bio-auth-data:bioAuthReq.txnID$
    output.output-4-expected-decoded-kyc-one-lang-res:
      output.4.res.kyc.valuephone0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~phone$
      output.4.res.kyc.valueemail0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~email$
      output.4.res.kyc.valuegender0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuegender1$
      output.4.res.kyc.valuepostalCode0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~postalCode$
      #output.4.res.kyc.languagedateOfBirth0: ''
      output.4.res.kyc.valueaddressLine10: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine11$
      #output.4.res.kyc.languageemail0: ''
      output.4.res.kyc.valueregion0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueregion1$
      output.4.res.kyc.valuecity0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuecity1$
      output.4.res.kyc.languageprovince0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageprovince1$
      output.4.res.kyc.languageaddressLine10: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine11$
      output.4.res.kyc.valuefullName0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valuefullName1$
      output.4.res.kyc.languagegender0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagegender1$
      output.4.res.kyc.valueaddressLine30: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine31$
      output.4.res.kyc.valuedateOfBirth0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~dateOfBirth$
      output.4.res.kyc.valueaddressLine30: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine31$
      output.4.res.kyc.languageregion0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageregion1$
      #output.4.res.kyc.languagepostalCode0: ''
      output.4.res.kyc.valueprovince0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueprovince1$
      output.4.res.kyc.languageaddressLine30: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine31$
      output.4.res.kyc.idvId: $REGEXP:XXXX.*$
      output.4.res.kyc.languagecity0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagecity1$
      output.4.res.kyc.valueaddressLine20: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~valueaddressLine21$
      output.4.res.kyc.languagefullName0: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languagefullName1$
      output.4.res.kyc.languageaddressLine20: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~languageaddressLine21$
    audit.auth_transaction:
      refId: $input.bio-auth-data:bioAuthReq.idvId$
      txnId: $input.bio-auth-data:bioAuthReq.txnID$
      authTypeCode: IRIS-AUTH
      statusCode: $output.output-1-expected-y-res:output.1.response.y.status$
      reqTime: $FETCH$
      resTime: $FETCH$
      statusComment: $REGEXP:.*Iris.*Authentication.*Success.*$
      idType: D
    audit.audit_log:
      refId:  $input.bio-auth-data:bioAuthReq.idvId$
      eventId: $REGEXP:.*IDA-EVT.*$
      eventName: AUTH_REQUEST_RESPONSE
      appId: IDA
      appName: ID-Authentication
      moduleName: EKYC_AUTH
      refIdType: UIN 
      
  Invalid_econsreq:
    input.bio-auth-data:
      bioAuthReq.idvId: $UIN$
      bioAuthReq.tspID: $RANDOM:N:10$
      bioAuthReq.reqTime: $TIMESTAMP$   
      bioAuthReq.txnID: $RANDOM:N:10$
    input.identity-encrypt-data:
      identityReq.valuerightEye: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~DECODEFILE:valuedocuments0~//BIR/BDBInfo[Type='Iris'][Subtype='Right']//following::BDB$
      identityReq.valueleftEye: $idrepo~$input.bio-auth-data:bioAuthReq.idvId$~DECODEFILE:valuedocuments0~//BIR/BDBInfo[Type='Iris'][Subtype='Left']//following::BDB$
      bioAuthReq.tspID: $input.bio-auth-data:bioAuthReq.tspID$  
    input.ekyc-request:
      ekycReq.ekycAuthType: I 
      ekycReq.consentReq: tree
    output.output-1-expected-n-error-res:
      output.1.response.n.err.status: N
      output.1.response.n.err.resTime: $TIMESTAMP$
      output.1.response.n.err.errorMessage: Invalid Auth Request
      output.1.response.n.err.errorCode: IDA-RQV-101
